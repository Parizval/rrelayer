# Setup

It is best to install the repo from source, the main reason is this is really easy to fetch the latest changes.

## Installing

:::code-group

```bash [http]
git clone https://github.com/joshstevens19/rrelayer.git
```

```bash [ssh]
git clone git@github.com:joshstevens19/rrelayer.git
```

:::

Once installed you can cd into the folder `rrelayer_server`

:::code-group

```bash [http]
git clone https://github.com/joshstevens19/rrelayer.git
cd ./rrelayer_server
```

```bash [ssh]
git clone git@github.com:joshstevens19/rrelayer.git
cd ./rrelayer_server
```

:::

## Config file

You can config a the setup YAML file in the repo which will map the relayer to key things.

```bash
cp ./config.example.yaml ./config.yaml
```

This will output this content:

```yaml
seed: ${SEED}
networks:
  - name: INSERT NETWORK NAME HERE
    provider_urls:
      - ${NETWORK_NAME_PROVIDER_URL}
    gas_provider: infura
gas_providers:
  infura:
    api_key: ${INFURA_API_KEY}
    secret: ${INFURA_API_KEY_SECRET}
```

You will need to replace the `${}` with the correct environment variables names. rrelayer will see anything with ${} and replace it with the environment variable.
We highly advise you use environment variables for these properties, you can create an `.env` within the project and it will be ignored from git.

```bash
cat .env
```

Lets go over what these values mean:

### seed - optional

This is the seed you want all the relayers to use, as EVM works across any network you can have 1 seed for all networks. That said if you want to have different seeds per network you can do that by adding `seed` in the `networks`
position:

```yaml
networks:
  - name: INSERT NETWORK NAME HERE
    seed: ${NETWORK_NAME_SEED}
    provider_urls:
      - ${NETWORK_NAME_PROVIDER_URL}
    gas_provider: infura
gas_providers:
  infura:
    api_key: ${INFURA_API_KEY}
    secret: ${INFURA_API_KEY_SECRET}
```

note you can have global seed and network seed at the same time. It just use the network seed if it is there.

### networks

#### seed - optional

You can overwrite the seed for this network, this is useful if you want to have different seeds for different networks.

#### name - required

This is the name of the network, this is used to identify the network in the logs and in the relayer, but can be anything.

#### provider_urls - required

This is the node URLs you can pass in many and it load balance between them. In turn if you just want one that is also fine.

#### gas_provider - optional

We have built in gas providers like `infura` and it needs some API keys if you wish to use that provider. If you do not define a gas provider it try to work out the gas by the last 10 blocks.
Note this will use more RPC calls as it has to crawl over x blocks and compute it. Using a gas provider is more stable and advised.

### gas_providers - optional if you do not use a gas provider

#### infura - optional

This is the infura API key and secret, you can get this from the infura website. Note this is only used for the gas oracle and a free plan limits should be enough you should not need a paid plan.

##### api_key - required

This is the infura API key.

##### secret - required

This is the infura API key secret.

## Running the server

Great you now have the server setup, you can now run the server with the command below:

```bash
RUSTFLAGS="-C target-cpu=native" cargo run --profile maxperf --features jemalloc
```

This will expose the server on port 8000 which you can to via `localhost:8000` or `http://127.0.0.1:8000`.

That it your server is running and you can now start to use the relayer. Note you will not have any relayers running as you not created any which we explore a little later.

Lets go and explore the API which is now exposed.
