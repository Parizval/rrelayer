# Networks

Network-related SDK calls.

## Get Network

:::info
Only basic auth authentication can get a network
:::

Get the network details.

### Response

```rust
#[derive(Error, Debug)]
pub enum ApiSdkError {
    #[error("HTTP client error: {0}")]
    HttpError(#[from] reqwest::Error),

    #[error("Invalid configuration: {0}")]
    ConfigError(String),

    #[error("Serialization error: {0}")]
    SerializationError(String),

    #[error("Authentication failed: {0}")]
    AuthError(String),

    #[error("Rate limit exceeded")]
    RateLimitError,
}

pub type ApiResult<T> = Result<T, ApiSdkError>;

pub type Response = ApiResult<Option<Network>>; // [!code focus]
```

Just so you understand the properties returned

```rs
#[derive(Clone, Debug, Deserialize, Serialize)]
pub struct Network {
    pub name: String,
    #[serde(rename = "chainId")]
    pub chain_id: ChainId,
    #[serde(rename = "providerUrls")]
    pub provider_urls: Vec<String>,
}
```

### Example

```rs
use anyhow::Result;
use rrelayer::{create_client, Client, CreateClientAuth, CreateClientConfig, Network};
use dotenvy::dotenv;
use std::env;

async fn get_client() -> Result<Client> {
    dotenv().ok();

    let username = env::var("RRELAYER_AUTH_USERNAME")
        .expect("RRELAYER_AUTH_USERNAME must be set");

    let password = env::var("RRELAYER_AUTH_PASSWORD")
        .expect("RRELAYER_AUTH_PASSWORD must be set");

    let client = create_client(CreateClientConfig {
        server_url: "http://localhost:8000".to_string(),
        auth: CreateClientAuth {
            username,
            password,
        },
    });

    Ok(client)
}

async fn example() -> Result<()> {
    let client = get_client().await?;

    let network: Option<Network> = client.network().get(11155111).await?;
    println!("{:?}", network);

    Ok(())
}

```

## Get Networks

:::info
Only basic auth authentication can get all networks
:::

Get all networks details.

### Response

```rust
#[derive(Error, Debug)]
pub enum ApiSdkError {
    #[error("HTTP client error: {0}")]
    HttpError(#[from] reqwest::Error),

    #[error("Invalid configuration: {0}")]
    ConfigError(String),

    #[error("Serialization error: {0}")]
    SerializationError(String),

    #[error("Authentication failed: {0}")]
    AuthError(String),

    #[error("Rate limit exceeded")]
    RateLimitError,
}

pub type ApiResult<T> = Result<T, ApiSdkError>;

pub type Response = ApiResult<Vec<Network>>; // [!code focus]
```

Just so you understand the properties returned

```rust
#[derive(Clone, Debug, Deserialize, Serialize)]
pub struct Network {
    pub name: String,
    #[serde(rename = "chainId")]
    pub chain_id: ChainId,
    #[serde(rename = "providerUrls")]
    pub provider_urls: Vec<String>,
}
```

### Example

```rust
use anyhow::Result;
use rrelayer::{create_client, Client, CreateClientAuth, CreateClientConfig, Network};
use dotenvy::dotenv;
use std::env;

async fn get_client() -> Result<Client> {
    dotenv().ok();

    let username = env::var("RRELAYER_AUTH_USERNAME")
        .expect("RRELAYER_AUTH_USERNAME must be set");

    let password = env::var("RRELAYER_AUTH_PASSWORD")
        .expect("RRELAYER_AUTH_PASSWORD must be set");

    let client = create_client(CreateClientConfig {
        server_url: "http://localhost:8000".to_string(),
        auth: CreateClientAuth {
            username,
            password,
        },
    });

    Ok(client)
}

async fn example() -> Result<()> {
    let client = get_client().await?;

    let networks: Vec<Network> = client.network().get_all().await?;
    println!("{:?}", networks);

    Ok(())
}
```

## Gas Prices

:::info
Only basic auth authentication can get the networks gas prices
:::

Get the gas prices for the network.

### Response

```rust
#[derive(Error, Debug)]
pub enum ApiSdkError {
    #[error("HTTP client error: {0}")]
    HttpError(#[from] reqwest::Error),

    #[error("Invalid configuration: {0}")]
    ConfigError(String),

    #[error("Serialization error: {0}")]
    SerializationError(String),

    #[error("Authentication failed: {0}")]
    AuthError(String),

    #[error("Rate limit exceeded")]
    RateLimitError,
}

pub type ApiResult<T> = Result<T, ApiSdkError>;

pub type Response = ApiResult<Option<GasEstimatorResult>>; // [!code focus]
```

Just so you understand the properties returned

```rust
#[derive(Debug, Deserialize, Serialize, Clone)]
pub struct GasPriceResult {
    #[serde(rename = "maxPriorityFee")]
    pub max_priority_fee: MaxPriorityFee,

    #[serde(rename = "maxFee")]
    pub max_fee: MaxFee,

    #[serde(rename = "minWaitTimeEstimate")]
    pub min_wait_time_estimate: Option<i64>,

    #[serde(rename = "maxWaitTimeEstimate")]
    pub max_wait_time_estimate: Option<i64>,
}


#[derive(Debug, Deserialize, Serialize, Clone)]
pub struct GasEstimatorResult {
    pub slow: GasPriceResult,

    pub medium: GasPriceResult,

    pub fast: GasPriceResult,

    pub super_fast: GasPriceResult,
}
```

### Example

```rust
use anyhow::Result;
use rrelayer::{Client, CreateClientAuth, CreateClientConfig, GasEstimatorResult, create_client};
use dotenvy::dotenv;
use std::env;

async fn get_client() -> Result<Client> {
    dotenv().ok();

    let username = env::var("RRELAYER_AUTH_USERNAME")
        .expect("RRELAYER_AUTH_USERNAME must be set");
    let password = env::var("RRELAYER_AUTH_PASSWORD")
        .expect("RRELAYER_AUTH_PASSWORD must be set");

    let client = create_client(CreateClientConfig {
        server_url: "http://localhost:8000".to_string(),
        auth: CreateClientAuth {
            username,
            password,
        },
    });

    Ok(client)
}

async fn example() -> Result<()> {
    let client = get_client().await?;

    let result: Option<GasEstimatorResult> = client.network().get_gas_prices(11155111).await?;
    println!("{:?}", result);

    Ok(())
}
```
