# Networks API

The Networks API provides information about supported blockchain networks and gas pricing.

## Authentication

All network endpoints require authentication. See [Authentication](/integration/api/authentication) for details.

## Get Networks

Get a list of all supported blockchain networks.

### Endpoint

```
GET /api/networks
```

### Response

```json
[
  {
    "name": "ethereum_mainnet",
    "chainId": 1,
    "providerUrls": [
      "https://eth.gateway.tenderly.co",
      "https://eth-mainnet.g.alchemy.com/v2/..."
    ]
  },
  {
    "name": "sepolia_ethereum",
    "chainId": 11155111,
    "providerUrls": ["https://sepolia.gateway.tenderly.co"]
  }
]
```

### Example

```bash
curl https://your-rrelayer.com/api/networks \
  -u "username:password"
```

## Get Network

Get details for a specific network.

### Endpoint

```
GET /api/networks/{chain_id}
```

### Response

```json
{
  "name": "sepolia_ethereum",
  "chainId": 11155111,
  "providerUrls": ["https://sepolia.gateway.tenderly.co"]
}
```

### Example

```bash
curl https://your-rrelayer.com/api/networks/11155111 \
  -u "username:password"
```

## Get Gas Price

Get current gas price estimates for a specific network.

### Endpoint

```
GET /api/networks/gas/price/{chain_id}
```

### Response

```json
{
  "slow": {
    "maxPriorityFee": "0.1",
    "maxFee": "2.5",
    "minWaitTimeEstimate": 180,
    "maxWaitTimeEstimate": 300
  },
  "medium": {
    "maxPriorityFee": "0.5",
    "maxFee": "4.0",
    "minWaitTimeEstimate": 60,
    "maxWaitTimeEstimate": 120
  },
  "fast": {
    "maxPriorityFee": "1.0",
    "maxFee": "6.0",
    "minWaitTimeEstimate": 15,
    "maxWaitTimeEstimate": 60
  },
  "super_fast": {
    "maxPriorityFee": "2.0",
    "maxFee": "10.0",
    "minWaitTimeEstimate": 5,
    "maxWaitTimeEstimate": 15
  }
}
```

### Gas Price Fields

| Field                 | Type     | Description                  |
| --------------------- | -------- | ---------------------------- |
| `maxPriorityFee`      | `string` | Priority fee in Gwei         |
| `maxFee`              | `string` | Maximum fee in Gwei          |
| `minWaitTimeEstimate` | `number` | Minimum wait time in seconds |
| `maxWaitTimeEstimate` | `number` | Maximum wait time in seconds |

### Example

```bash
curl https://your-rrelayer.com/api/networks/gas/price/11155111 \
  -u "username:password"
```

## Error Responses

### Common Error Codes

| Status | Code                  | Description                |
| ------ | --------------------- | -------------------------- |
| 400    | `INVALID_REQUEST`     | Invalid request parameters |
| 401    | `UNAUTHORIZED`        | Authentication required    |
| 404    | `NOT_FOUND`           | Network not found          |
| 500    | `INTERNAL_ERROR`      | Server error               |
| 503    | `SERVICE_UNAVAILABLE` | Gas provider unavailable   |

### Error Response Format

```json
{
  "error": "Network not found",
  "code": "NOT_FOUND"
}
```

## Gas Price Providers

rrelayer supports multiple gas price providers configured per network in the rrelayer configuration:

- **TENDERLY** - Tenderly Gas Station
- **INFURA** - Infura Gas API
- **CUSTOM** - Custom gas provider
- **FALLBACK** - Fallback gas estimation

The API returns gas prices from the configured provider for the requested network.

## Use Cases

### Transaction Fee Estimation

Get gas prices to estimate transaction costs:

```bash
# Get current gas prices
curl https://your-rrelayer.com/api/networks/gas/price/1 \
  -u "username:password"

# Use the response to estimate costs
# Example: MEDIUM speed transaction
# Estimated cost = gas_limit * max_fee_per_gas
# Example: 21000 * 4.0 gwei = 84,000 gwei = 0.000084 ETH
```

### Speed Selection

Choose appropriate transaction speed based on urgency:

```javascript
// Get gas prices
const response = await fetch('/api/networks/gas/price/1');
const data = await response.json();

// Select speed based on requirements
let speed;
if (urgent) {
  speed = 'SUPER';
} else if (normal) {
  speed = 'MEDIUM';
} else {
  speed = 'SLOW';
}

// Use selected speed for transaction
const transaction = {
  to: '0x...',
  value: '1000000000000000000',
  speed: speed,
};
```

### Network Validation

Verify network support before sending transactions:

```bash
# Check if network is supported
curl https://your-rrelayer.com/api/networks \
  -u "username:password" | jq '.[] | select(.chainId == 1)'
```
